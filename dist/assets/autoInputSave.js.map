{
  "version": 3,
  "sources": ["../../src/assets/autoInputSave.js"],
  "sourcesContent": ["const strgKey = \"dsatools_inputs-\" + globalThis.toolPath.split(\"/\").pop()\n\nif (document.readyState != \"loading\")\n\tmain()\nelse\n\tdocument.addEventListener(\"DOMContentLoaded\", main)\n\nfunction main() {\n\tlet data = localStorage.getItem(strgKey)\n\tif (data) {\n\t\ttry { data = JSON.parse(data) } catch {/**/ }\n\t\tfor (const path in data) {\n\t\t\tconst el = document.querySelector(path\n\t\t\t\t+ (path.includes(\"type=\\\"radio\\\"\")\n\t\t\t\t\t? `[value=\"${data[path]}\"]`\n\t\t\t\t\t: \"\"\n\t\t\t\t)\n\t\t\t)\n\t\t\tif (!el) {\n\t\t\t\tdelete data[path]\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tif (el.type == \"checkbox\" || el.type == \"radio\")\n\t\t\t\tel.checked = !!data[path]\n\t\t\telse\n\t\t\t\tel.value = data[path]\n\t\t\tel.dispatchEvent(new Event(el.tagName == \"TEXTAREA\" ? \"input\" : \"change\"))\n\t\t}\n\t\tlocalStorage.setItem(strgKey, JSON.stringify(data))\n\t}\n\n\tconst elements = document.querySelectorAll(\"[data-save]\")\n\telements.forEach(el => {\n\t\tel.addEventListener(el.tagName == \"TEXTAREA\" ? \"input\" : \"change\", () => {\n\t\t\tconst path = getPath(el)\n\t\t\tlet data = localStorage.getItem(strgKey) ?? \"{}\"\n\t\t\ttry { data = JSON.parse(data) } catch { data = {} }\n\t\t\tdata[path] = el.value\n\t\t\tif (el.type == \"checkbox\")\n\t\t\t\tdata[path] = el.checked\n\t\t\telse\n\t\t\t\tdata[path] = el.value\n\t\t\tlocalStorage.setItem(strgKey, JSON.stringify(data))\n\t\t})\n\t})\n}\n\nfunction getPath(el) {\n\tconst selectors = []\n\twhile (el) {\n\t\tif (el.tagName == \"BODY\") break\n\t\tlet path\n\t\tif (el.id != \"\") {\n\t\t\tpath = \"#\" + el.id\n\t\t\tselectors.unshift(path)\n\t\t\tbreak\n\t\t} else if (el.type == \"radio\" && el.name) {\n\t\t\tpath = `#${el.dataset.save} ${el.tagName.toLowerCase()}[type=\"${el.type}\"][name=\"${el.name}\"]`\n\t\t\tselectors.unshift(path)\n\t\t\tbreak\n\t\t} else {\n\t\t\tpath = `:nth-child(${Array.from(el.parentNode.children).indexOf(el) + 1})`\n\t\t\tselectors.unshift(path)\n\t\t}\n\t\tel = el.parentNode\n\t}\n\treturn selectors.join(\">\")\n}\n"],
  "mappings": "AAAA,IAAMA,EAAU,mBAAqB,WAAW,SAAS,MAAM,GAAG,EAAE,IAAI,EAEpE,SAAS,YAAc,UAC1BC,EAAK,EAEL,SAAS,iBAAiB,mBAAoBA,CAAI,EAEnD,SAASA,GAAO,CACf,IAAIC,EAAO,aAAa,QAAQF,CAAO,EACvC,GAAIE,EAAM,CACT,GAAI,CAAEA,EAAO,KAAK,MAAMA,CAAI,CAAE,MAAQ,CAAM,CAC5C,QAAWC,KAAQD,EAAM,CACxB,IAAME,EAAK,SAAS,cAAcD,GAC9BA,EAAK,SAAS,cAAgB,EAC9B,WAAWD,EAAKC,CAAI,CAAC,KACrB,GAEJ,EACA,GAAI,CAACC,EAAI,CACR,OAAOF,EAAKC,CAAI,EAChB,QACD,CACIC,EAAG,MAAQ,YAAcA,EAAG,MAAQ,QACvCA,EAAG,QAAU,CAAC,CAACF,EAAKC,CAAI,EAExBC,EAAG,MAAQF,EAAKC,CAAI,EACrBC,EAAG,cAAc,IAAI,MAAMA,EAAG,SAAW,WAAa,QAAU,QAAQ,CAAC,CAC1E,CACA,aAAa,QAAQJ,EAAS,KAAK,UAAUE,CAAI,CAAC,CACnD,CAEiB,SAAS,iBAAiB,aAAa,EAC/C,QAAQE,GAAM,CACtBA,EAAG,iBAAiBA,EAAG,SAAW,WAAa,QAAU,SAAU,IAAM,CACxE,IAAMD,EAAOE,EAAQD,CAAE,EACnBF,EAAO,aAAa,QAAQF,CAAO,GAAK,KAC5C,GAAI,CAAEE,EAAO,KAAK,MAAMA,CAAI,CAAE,MAAQ,CAAEA,EAAO,CAAC,CAAE,CAClDA,EAAKC,CAAI,EAAIC,EAAG,MACZA,EAAG,MAAQ,WACdF,EAAKC,CAAI,EAAIC,EAAG,QAEhBF,EAAKC,CAAI,EAAIC,EAAG,MACjB,aAAa,QAAQJ,EAAS,KAAK,UAAUE,CAAI,CAAC,CACnD,CAAC,CACF,CAAC,CACF,CAEA,SAASG,EAAQD,EAAI,CACpB,IAAME,EAAY,CAAC,EACnB,KAAOF,GACFA,EAAG,SAAW,QADR,CAEV,IAAID,EACJ,GAAIC,EAAG,IAAM,GAAI,CAChBD,EAAO,IAAMC,EAAG,GAChBE,EAAU,QAAQH,CAAI,EACtB,KACD,SAAWC,EAAG,MAAQ,SAAWA,EAAG,KAAM,CACzCD,EAAO,IAAIC,EAAG,QAAQ,IAAI,IAAIA,EAAG,QAAQ,YAAY,CAAC,UAAUA,EAAG,IAAI,YAAYA,EAAG,IAAI,KAC1FE,EAAU,QAAQH,CAAI,EACtB,KACD,MACCA,EAAO,cAAc,MAAM,KAAKC,EAAG,WAAW,QAAQ,EAAE,QAAQA,CAAE,EAAI,CAAC,IACvEE,EAAU,QAAQH,CAAI,EAEvBC,EAAKA,EAAG,UACT,CACA,OAAOE,EAAU,KAAK,GAAG,CAC1B",
  "names": ["strgKey", "main", "data", "path", "el", "getPath", "selectors"]
}
