navigator.serviceWorker?.register("/sw.js",{scope:"/"}).then(t=>{let a=Date.now(),e=!navigator.serviceWorker.controller;t.addEventListener("updatefound",()=>{let n=()=>document.getElementById("main-container").style.opacity="0.2";e&&n(),t.installing.addEventListener("statechange",o=>{if(e||n(),o.target.state=="activating"){if(e)return location.reload();console.info("SW - Updated"),Date.now()-a<=4e3&&!location.pathname.startsWith("/items")&&(document.getElementById("header-content")?.insertAdjacentHTML("afterbegin","<h2 style='font-weight:normal;margin:0'>Reloading to update the app!&nbsp;</h2>"),location.reload())}})})}).catch(t=>{console.info("SW registration failed:",t.message)});
//# sourceMappingURL=sw-reg.js.map
