{
  "version": 3,
  "sources": ["../../src/assets/sw-reg.js"],
  "sourcesContent": ["/* Service Worker Register & Update */\nnavigator.serviceWorker?.register(\"/sw.js\", { scope: \"/\" }).then(reg => {\n\tconst start = Date.now(), first = !navigator.serviceWorker.controller\n\treg.addEventListener(\"updatefound\", () => { // updatefound = reg.installing\n\t\tconst fade = () => document.getElementById(\"main-container\").style.opacity = \"0.2\"\n\t\tfirst && fade()\n\t\treg.installing.addEventListener(\"statechange\", e => {\n\t\t\tfirst || fade()\n\t\t\tif (e.target.state != \"activating\") return\n\t\t\tif (first)\n\t\t\t\treturn location.reload()\n\t\t\tconsole.info(\"SW - Updated\")\n\t\t\tif (Date.now() - start <= 4000 // reload to apply update if the page was just loaded\n\t\t\t\t&& !location.pathname.startsWith(\"/items\")\n\t\t\t) {\n\t\t\t\tdocument.getElementById(\"header-content\")?.insertAdjacentHTML(\"afterbegin\", \"<h2 style='font-weight:normal;margin:0'>Reloading to update the app!&nbsp;</h2>\")\n\t\t\t\tlocation.reload()\n\t\t\t}\n\t\t})\n\t})\n}).catch(err => {\n\tconsole.info(\"SW registration failed:\", err.message)\n})\n"],
  "mappings": "AACA,UAAU,eAAe,SAAS,SAAU,CAAE,MAAO,GAAI,CAAC,EAAE,KAAKA,GAAO,CACvE,IAAMC,EAAQ,KAAK,IAAI,EAAGC,EAAQ,CAAC,UAAU,cAAc,WAC3DF,EAAI,iBAAiB,cAAe,IAAM,CACzC,IAAMG,EAAO,IAAM,SAAS,eAAe,gBAAgB,EAAE,MAAM,QAAU,MAC7ED,GAASC,EAAK,EACdH,EAAI,WAAW,iBAAiB,cAAeI,GAAK,CAEnD,GADAF,GAASC,EAAK,EACVC,EAAE,OAAO,OAAS,aACtB,IAAIF,EACH,OAAO,SAAS,OAAO,EACxB,QAAQ,KAAK,cAAc,EACvB,KAAK,IAAI,EAAID,GAAS,KACtB,CAAC,SAAS,SAAS,WAAW,QAAQ,IAEzC,SAAS,eAAe,gBAAgB,GAAG,mBAAmB,aAAc,iFAAiF,EAC7J,SAAS,OAAO,GAElB,CAAC,CACF,CAAC,CACF,CAAC,EAAE,MAAMI,GAAO,CACf,QAAQ,KAAK,0BAA2BA,EAAI,OAAO,CACpD,CAAC",
  "names": ["reg", "start", "first", "fade", "e", "err"]
}
