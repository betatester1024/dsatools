{
  "version": 3,
  "sources": ["../src/main.js"],
  "sourcesContent": ["export const usesTouch = matchMedia(\"(pointer: coarse)\").matches || !!navigator.maxTouchPoints\n\nconst elHeader = document.getElementsByTagName(\"header\")[0]\nconst elFooter = document.getElementsByTagName(\"footer\")[0]\n\nif (elHeader) await fetch(\"/assets/header.html\").then(res => res.text()).then(html => {\n\telHeader.insertAdjacentHTML(\"beforeend\", html)\n}).catch(console.error)\n\nif (elFooter) await fetch(\"/assets/footer.html\").then(res => res.text()).then(html => {\n\telFooter.insertAdjacentHTML(\"beforeend\", html)\n}).catch(console.error)\n\nexport function loadHF(credits, title = document.title) {\n\tconst dd = document.querySelector(\"header nav .dropdown\")\n\tdd.getElementsByClassName(\"text\")[0].innerHTML = location.pathname == \"/\" ? \"Tools\" : title\n\tdd.querySelectorAll(\".content>a\").forEach(el => {\n\t\tif (el.textContent == title) {\n\t\t\tel.classList.add(\"active\")\n\t\t\treturn\n\t\t}\n\t})\n\tif (credits)\n\t\tdocument.getElementById(\"credits\").innerHTML = title + \" \" + credits\n}\n\ndocument.querySelectorAll(\".custom-file-input\").forEach(el => {\n\tconst input = el.querySelector(\"input\")\n\tel.querySelector(\"button\").addEventListener(\"click\", () => input.click())\n})\n\n/* Dropdowns */\nconst openDropdowns = new Set()\n\nfunction toggleDropdown(el, force) {\n\tconst open = el.classList.toggle(\"open\", force)\n\tif (open) openDropdowns.add(el)\n\telse openDropdowns.delete(el)\n}\n\nwindow.addEventListener(usesTouch ? \"touchstart\" : \"mousedown\", e => {\n\tconst target = e.targetTouches ? e.changedTouches.item(0).target : e.target\n\tif (target.matches(\".dropdown\")) {\n\t\ttoggleDropdown(target)\n\t} else {\n\t\tif (target.tagName == \"A\") return // code below may block the link, especially if touch\n\t\tfor (const el of openDropdowns)\n\t\t\tel.classList.remove(\"open\")\n\t}\n})\n\nwindow.addEventListener(\"focusin\", e => {\n\tif (e.target.matches(\".dropdown:not(.open)\"))\n\t\treturn toggleDropdown(e.target)\n\topenDropdowns.forEach(el => !el.contains(e.target) && toggleDropdown(el, false))\n})\n\n/* Tooltips */\nexport function addTooltip(ref) {\n\tconst clickTriggered = \"clickTriggered\" in ref.dataset\n\tref.addEventListener(usesTouch ? \"touchend\" : (clickTriggered ? \"click\" : \"mouseenter\"), tooltipInteractionHandler, true)\n}\n\ndocument.querySelectorAll(\".tooltip-ref\").forEach(addTooltip)\n\nlet ttpCloseHandler\nfunction tooltipInteractionHandler() {\n\tconst ref = this\n\tlet space\n\tconst clickTriggered = \"clickTriggered\" in ref.dataset\n\tconst allowHover = \"allowHover\" in ref.dataset\n\tconst showAbove = \"showAbove\" in ref.dataset\n\tif (allowHover) {\n\t\tspace = ref.getElementsByClassName(\"tooltip-space\")[0]\n\t\tif (space) space.style.display = \"block\"\n\t}\n\tconst content = ref.nextElementSibling\n\tif ((usesTouch || clickTriggered) && content.style.display == \"block\")\n\t\treturn closeTooltip(content, space)\n\tif (content.style.display == \"block\")\n\t\treturn\n\tcontent.style.display = \"block\"\n\n\tconst refRect = ref.getBoundingClientRect()\n\tconst contRect = content.getBoundingClientRect()\n\tlet x = refRect.left + (refRect.width / 2) - (contRect.width / 2)\n\tlet y = refRect.top + (showAbove ? -contRect.height - 5 : refRect.height + 5)\n\n\tif (x <= 0) x = 1\n\telse if (x + contRect.width > window.innerWidth) x = window.innerWidth - contRect.width - 4\n\tif (y >= window.innerHeight) y = window.innerHeight\n\telse if (y + contRect.height >= window.innerHeight) y = window.innerHeight - contRect.height\n\tcontent.style.left = x + \"px\"\n\tcontent.style.top = y + \"px\"\n\n\twindow.addEventListener(\"scroll\", () => {\n\t\tcloseTooltip(content, space)\n\t}, { once: true })\n\n\tif (usesTouch) {\n\t\tttpCloseHandler = e => {\n\t\t\tif (!ref.contains(e.target) && !content.contains(e.target)) {\n\t\t\t\tcloseTooltip(content, space)\n\t\t\t\twindow.removeEventListener(\"touchend\", ttpCloseHandler)\n\t\t\t}\n\t\t}\n\t\twindow.addEventListener(\"touchend\", ttpCloseHandler)\n\t} else {\n\t\tttpCloseHandler = e => {\n\t\t\tif (ref.contains(e.relatedTarget))\n\t\t\t\treturn ref.addEventListener(\"mouseleave\", ttpCloseHandler, { once: true })\n\t\t\tif (e.relatedTarget == space)\n\t\t\t\treturn space.addEventListener(\"mouseleave\", ttpCloseHandler, { once: true })\n\t\t\tif (!allowHover || (allowHover && !content.contains(e.relatedTarget))) {\n\t\t\t\tif (elementContainsSelection(content)) { // keep open if user selected text in content\n\t\t\t\t\tcontent.addEventListener(\"mouseleave\", ttpCloseHandler, { once: true })\n\t\t\t\t\twindow.addEventListener(\"click\", e => {\n\t\t\t\t\t\tif (!content.contains(e.target))\n\t\t\t\t\t\t\tcloseTooltip(content, space)\n\t\t\t\t\t}, { once: true })\n\t\t\t\t} else\n\t\t\t\t\tcloseTooltip(content, space)\n\t\t\t} else {\n\t\t\t\tcontent.addEventListener(\"mouseleave\", ttpCloseHandler, { once: true })\n\t\t\t}\n\t\t}\n\t\tref.addEventListener(\"mouseleave\", ttpCloseHandler, { once: true })\n\t}\n\n\tfunction closeTooltip(content, space) {\n\t\tif (usesTouch)\n\t\t\twindow.removeEventListener(\"touchend\", ttpCloseHandler)\n\t\telse\n\t\t\tref.removeEventListener(\"mouseleave\", ttpCloseHandler)\n\t\tcontent.style.display = \"\"\n\t\tif (space) space.style.display = \"\"\n\t}\n}\n\nfunction elementContainsSelection(el) {\n\tconst sel = window.getSelection()\n\tif (sel.type != \"Range\" || sel.rangeCount < 1)\n\t\treturn false\n\tfor (let i = 0; i < sel.rangeCount; ++i) {\n\t\tif (!el.contains(sel.getRangeAt(i).commonAncestorContainer))\n\t\t\treturn false\n\t}\n\treturn true\n}\n\n/* Chips :has fallback for Firefox - synces radio :checked to its label */\nif (!CSS.supports(\"selector(:has(*))\")) {\n\tdocument.querySelectorAll(\".radio-chips\").forEach(chips => {\n\t\tchips.querySelectorAll(\"input\").forEach(radio => {\n\t\t\tif (radio.checked)\n\t\t\t\tradio.parentElement.setAttribute(\"checked\", \"\")\n\t\t\tradio.addEventListener(\"change\", () =>\n\t\t\t\tchips.querySelectorAll(\"label\").forEach(label =>\n\t\t\t\t\tlabel.toggleAttribute(\"data-chk\", label == radio.parentElement) // radio here is the checked one\n\t\t\t\t)\n\t\t\t)\n\t\t\tradio.addEventListener(\"focus\", () =>\n\t\t\t\tradio.parentElement.dataset.fcs = \"\"\n\t\t\t)\n\t\t\tradio.addEventListener(\"blur\", () =>\n\t\t\t\tdelete radio.parentElement.dataset.fcs\n\t\t\t)\n\t\t})\n\t})\n}\n\n/* Link range-number inputs */\ndocument.querySelectorAll(\"[range-link-number]\").forEach(rangeInput => {\n\tconst numberInput = rangeInput.nextElementSibling\n\tif (numberInput.value == \"\")\n\t\tnumberInput.value = rangeInput.value\n\trangeInput.addEventListener(\"input\", () => {\n\t\tnumberInput.value = rangeInput.value\n\t\tnumberInput.dispatchEvent(new Event(\"change\"))\n\t})\n\tnumberInput.addEventListener(\"change\", () =>\n\t\trangeInput.value = numberInput.value\n\t)\n})\n"],
  "mappings": "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",
  "names": ["usesTouch", "elHeader", "elFooter", "res", "html", "loadHF", "credits", "title", "dd", "el", "input", "openDropdowns", "toggleDropdown", "force", "target", "addTooltip", "ref", "clickTriggered", "tooltipInteractionHandler", "ttpCloseHandler", "space", "allowHover", "showAbove", "content", "closeTooltip", "refRect", "contRect", "x", "y", "e", "elementContainsSelection", "sel", "i", "chips", "radio", "label", "rangeInput", "numberInput"]
}
