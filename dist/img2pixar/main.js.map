{
  "version": 3,
  "sources": ["../../src/assets/autoInputSave.js", "../../src/img2pixar/main.js", "../../src/main.js"],
  "sourcesContent": ["const strgKey = \"dsatools_inputs-\" + globalThis.toolPath.split(\"/\").pop()\n\nif (document.readyState != \"loading\")\n\tmain()\nelse\n\tdocument.addEventListener(\"DOMContentLoaded\", main)\n\nfunction main() {\n\tlet data = localStorage.getItem(strgKey)\n\tif (data) {\n\t\ttry { data = JSON.parse(data) } catch {/**/ }\n\t\tfor (const path in data) {\n\t\t\tconst el = document.querySelector(path\n\t\t\t\t+ (path.includes(\"type=\\\"radio\\\"\")\n\t\t\t\t\t? `[value=\"${data[path]}\"]`\n\t\t\t\t\t: \"\"\n\t\t\t\t)\n\t\t\t)\n\t\t\tif (!el) {\n\t\t\t\tdelete data[path]\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tif (el.type == \"checkbox\" || el.type == \"radio\")\n\t\t\t\tel.checked = !!data[path]\n\t\t\telse\n\t\t\t\tel.value = data[path]\n\t\t\tel.dispatchEvent(new Event(el.tagName == \"TEXTAREA\" ? \"input\" : \"change\"))\n\t\t}\n\t\tlocalStorage.setItem(strgKey, JSON.stringify(data))\n\t}\n\n\tconst elements = document.querySelectorAll(\"[data-save]\")\n\telements.forEach(el => {\n\t\tel.addEventListener(el.tagName == \"TEXTAREA\" ? \"input\" : \"change\", () => {\n\t\t\tconst path = getPath(el)\n\t\t\tlet data = localStorage.getItem(strgKey) ?? \"{}\"\n\t\t\ttry { data = JSON.parse(data) } catch { data = {} }\n\t\t\tdata[path] = el.value\n\t\t\tif (el.type == \"checkbox\")\n\t\t\t\tdata[path] = el.checked\n\t\t\telse\n\t\t\t\tdata[path] = el.value\n\t\t\tlocalStorage.setItem(strgKey, JSON.stringify(data))\n\t\t})\n\t})\n}\n\nfunction getPath(el) {\n\tconst selectors = []\n\twhile (el) {\n\t\tif (el.tagName == \"BODY\") break\n\t\tlet path\n\t\tif (el.id != \"\") {\n\t\t\tpath = \"#\" + el.id\n\t\t\tselectors.unshift(path)\n\t\t\tbreak\n\t\t} else if (el.type == \"radio\" && el.name) {\n\t\t\tpath = `#${el.dataset.save} ${el.tagName.toLowerCase()}[type=\"${el.type}\"][name=\"${el.name}\"]`\n\t\t\tselectors.unshift(path)\n\t\t\tbreak\n\t\t} else {\n\t\t\tpath = `:nth-child(${Array.from(el.parentNode.children).indexOf(el) + 1})`\n\t\t\tselectors.unshift(path)\n\t\t}\n\t\tel = el.parentNode\n\t}\n\treturn selectors.join(\">\")\n}\n", "globalThis.toolPath = import.meta.url.substring(0, import.meta.url.lastIndexOf(\"/\"))\nconst credits = `by <a href='https://github.com/Blueyescat' target='_blank'>Blueyescat</a>,\n\t<br>Inspired by <a href='https://github.com/ivstiv/pixelart-converter' target='_blank'>pixelart-converter</a> by ivstiv.`\n\nimport(\"/assets/autoInputSave.js\")\nimport Pica from \"pica\"\nimport Zoomist from \"zoomist\"\nimport { loadHF, usesTouch } from \"/main.js\"\nloadHF(credits)\n\nconst pica = new Pica({ idle: 60000 })\n\nlet worker\nif (\"OffscreenCanvas\" in window) worker = new Worker(globalThis.toolPath + \"/worker.js\")\nelse await import(globalThis.toolPath + \"/converter.js\")\n\nconst container = document.querySelector(\"#main-container\")\nconst inputFile = document.getElementById(\"input-file\")\nconst inputWidth = document.getElementById(\"input-width\")\nconst inputHeight = document.getElementById(\"input-height\")\nconst cbUseTurretScale = document.getElementById(\"cb-use-turret-scale\")\nconst cbDrawPaintId = document.getElementById(\"cb-paint-id\")\nconst cbDrawPaintTexture = document.getElementById(\"cb-paint-texture\")\nconst cbNoSmoothResizing = document.getElementById(\"cb-no-smooth-resizing\")\nconst inputCoordX = document.getElementById(\"input-coord-x\")\nconst inputCoordY = document.getElementById(\"input-coord-y\")\nconst inputPixelSize = document.getElementById(\"input-pixel-size\")\nconst inputFontSize = document.getElementById(\"input-font-size\")\nconst selectColorSpace = document.getElementById(\"select-color-space\")\nconst buttonProcess = document.getElementById(\"button-process\")\nconst buttonShowResized = document.getElementById(\"button-show-resized\")\nconst imgFilePreview = document.querySelector(\"#preview>img\")\nconst elFilePreviewName = document.querySelector(\"#preview>.name\")\nconst elFilePreviewSize = document.querySelector(\"#preview>.size\")\nconst elResultContainer = document.getElementById(\"result-container\")\nconst imgResult = document.getElementById(\"result\")\nconst elNotice = document.getElementById(\"notice\")\nconst elResultInfo = document.getElementById(\"result-info\")\nconst elResultHeading = document.getElementById(\"result-heading\")\nconst elResultSquare = document.getElementById(\"result-hover-square\")\nconst elResultSquareCoords = elResultSquare.querySelector(\".coords\")\nconst canvas = document.createElement(\"canvas\")\nconst canvasCtx = canvas.getContext(\"2d\", { willReadFrequently: true })\n\nlet noticeTimeoutId, resultZoomist, resultDragging, resizedImageBlob\nlet hasSetWidth, hasSetHeight, hasChosenImage\nlet displayPixelSize, displayWidth, displayHeight, displayPaintHeight\nlet inShipCoordX = 1, inShipCoordY = 1\nlet resizeCache = {}\nconst image = new Image()\n\nwindow.addEventListener(\"paste\", e => {\n\tconst file = e.clipboardData.files?.[0]\n\tif (!file || !file.type.includes(\"image/\")) return\n\tconst dt = new DataTransfer()\n\tdt.items.add(file)\n\tinputFile.files = dt.files\n\tinputFile.dispatchEvent(new Event(\"change\"))\n})\n\nwindow.addEventListener(\"dragover\", e => {\n\te.preventDefault()\n\tcontainer.style.outline = \"2px dashed var(--blue)\"\n})\nwindow.addEventListener(\"dragleave\", e => {\n\tif (!e.relatedTarget) container.style.outline = \"\"\n})\nwindow.addEventListener(\"drop\", e => {\n\te.preventDefault()\n\tcontainer.style.outline = \"\"\n\tif (!e.dataTransfer.files.length) return\n\tinputFile.files = e.dataTransfer.files\n\tinputFile.dispatchEvent(new Event(\"change\"))\n})\n\ninputFile.addEventListener(\"change\", () => {\n\tconst file = inputFile.files?.[0]\n\tif (!file) {\n\t\thasChosenImage = false\n\t\tinputFile.style.backgroundImage = null\n\t\treturn\n\t}\n\tif (!file.type.includes(\"image/\"))\n\t\treturn inputFile.value = null\n\tloadBaseImage(URL.createObjectURL(file), file.name)\n})\n\nasync function loadBaseImage(src, fileName) {\n\timage.src = src\n\tconst result = await new Promise(resolve => {\n\t\timage.onerror = () => resolve(false)\n\t\timage.onload = () => resolve(true)\n\t})\n\tif (!result) { // probably useless, it is just a leftover from when I considered adding image URL input\n\t\timgFilePreview.src = \"\"\n\t\telFilePreviewName.textContent = \"ERROR - Unable to use this image.\"\n\t\telFilePreviewSize.textContent = \"\"\n\t\thasChosenImage = false\n\t\treturn\n\t}\n\thasSetWidth = undefined, hasSetHeight = undefined, hasChosenImage = true, resizeCache = {}\n\timgFilePreview.src = src\n\tif (fileName.length > 55)\n\t\telFilePreviewName.textContent = fileName.substr(0, 40) + \"...\" + fileName.substr(fileName.length - 10, fileName.length)\n\telse\n\t\telFilePreviewName.textContent = fileName\n\telFilePreviewSize.textContent = `(${image.width}x${image.height})`\n\tautoFillDims(cbUseTurretScale.checked)\n}\n\ncbUseTurretScale.addEventListener(\"change\", () => {\n\tif (hasSetWidth || hasSetHeight || !hasChosenImage) return\n\tautoFillDims(cbUseTurretScale.checked)\n})\n\nfunction autoFillDims(turretScale) {\n\tif (image.width == image.height && image.width > 78) {\n\t\tinputWidth.value = inputHeight.value = turretScale ? 78 / 3 : 78\n\t} else {\n\t\tif (image.width <= 78)\n\t\t\tinputWidth.value = turretScale ? (image.width / 3).toFixed(1) : image.width\n\t\tif (image.height <= 78)\n\t\t\tinputHeight.value = turretScale ? (image.height / 3).toFixed(1) : image.height\n\t}\n}\n\ninputWidth.addEventListener(\"input\", function () {\n\tif (!hasSetHeight) {\n\t\tconst fit = calcAspectRatioFit(image.width, image.height, parseFloat(this.value), image.height).height\n\t\tif (isNaN(fit)) return\n\t\tinputHeight.value = cbUseTurretScale.checked ? toNearestTurretScale(fit) : Math.round(fit)\n\t}\n\thasSetWidth = true\n})\n\ninputHeight.addEventListener(\"input\", function () {\n\tif (!hasSetWidth) {\n\t\tconst fit = calcAspectRatioFit(image.width, image.height, image.width, parseFloat(this.value)).width\n\t\tif (isNaN(fit)) return\n\t\tinputWidth.value = cbUseTurretScale.checked ? toNearestTurretScale(fit) : Math.round(fit)\n\t}\n\thasSetHeight = true\n})\n\ninputCoordX.addEventListener(\"input\", () => inShipCoordX = parseInt(inputCoordX.value))\ninputCoordY.addEventListener(\"input\", () => inShipCoordY = parseInt(inputCoordY.value))\n\nbuttonProcess.addEventListener(\"click\", async () => {\n\tif (!hasChosenImage)\n\t\treturn notice(\"You haven't chosen an image.\")\n\tconst width = cbUseTurretScale.checked ? Math.round(parseFloat(inputWidth.value) * 3) : parseInt(inputWidth.value)\n\tif (!width || width < 1)\n\t\treturn notice(\"The entered width is invalid.\")\n\tconst height = cbUseTurretScale.checked ? Math.round(parseFloat(inputHeight.value) * 3) : parseInt(inputHeight.value)\n\tif (!height || height < 1)\n\t\treturn notice(\"The entered height is invalid.\")\n\tconst pixelSize = parseInt(inputPixelSize.value)\n\tif (!pixelSize || pixelSize < 1)\n\t\treturn notice(\"The entered pixel size is invalid.\")\n\tconst fontSize = parseInt(inputFontSize.value)\n\tif (isNaN(fontSize))\n\t\treturn notice(\"The entered font size is invalid.\")\n\tnotice()\n\n\tcanvas.width = width\n\tcanvas.height = height\n\telResultInfo.textContent = \"...\"\n\tconst start = performance.now()\n\n\tconst cacheKey = \"\" + cbNoSmoothResizing.checked + width + height\n\tconst cachedBlob = resizeCache[cacheKey]\n\tif (!cachedBlob && image.width == width && image.height == height) {\n\t\tcanvasCtx.drawImage(image, 0, 0, canvas.width, canvas.height)\n\t\tbuttonShowResized.style.display = \"none\"\n\t} else {\n\t\tif (cachedBlob) {\n\t\t\timage.src = URL.createObjectURL(cachedBlob)\n\t\t\tif (!image.complete) await new Promise(resolve => image.onload = () => resolve())\n\t\t\tcanvasCtx.drawImage(image, 0, 0, canvas.width, canvas.height)\n\t\t} else {\n\t\t\tawait pica.resize(image, canvas, cbNoSmoothResizing.checked ? { filter: \"box\" } : undefined)\n\t\t\tcanvas.toBlob(blob => resizeCache[cacheKey] = resizedImageBlob = blob)\n\t\t}\n\t\tbuttonShowResized.style.display = \"\"\n\t}\n\n\tconst result = await process({\n\t\tcolorSpace: selectColorSpace.value,\n\t\timageData: canvasCtx.getImageData(0, 0, canvas.width, canvas.height),\n\t\tpixelSize: pixelSize,\n\t\tfontSize: fontSize,\n\t\tdrawPaintTexture: cbDrawPaintTexture.checked,\n\t\tdrawPaintId: cbDrawPaintId.checked\n\t})\n\n\tconst imageData = result.imageData\n\tdisplayPixelSize = pixelSize\n\tdisplayPaintHeight = height\n\telResultInfo.textContent = `${width}x${height}sq - ${imageData.width}x${imageData.height}px - ${Math.round(performance.now() - start)}ms`\n\n\tcanvas.width = displayWidth = imageData.width\n\tcanvas.height = displayHeight = imageData.height\n\tcanvasCtx.putImageData(imageData, 0, 0)\n\n\timgResult.src = URL.createObjectURL(await new Promise(resolve => canvas.toBlob(resolve)))\n\n\telResultSquare.style.display = \"none\"\n\tresultZoomist?.destroy()\n\n\tif (!imgResult.complete)\n\t\tawait new Promise(resolve => imgResult.addEventListener(\"load\", resolve))\n\tresultZoomist = new Zoomist(\".zoomist-container\", {\n\t\tbounds: false,\n\t\tzoomRatio: 0.3,\n\t\tinitScale: 1,\n\t\tminScale: 0.03,\n\t\tmaxScale: 100,\n\t\ton: {\n\t\t\tzoom() {\n\t\t\t\telResultSquare.style.display = \"none\"\n\t\t\t},\n\t\t\tdragStart() {\n\t\t\t\telResultSquare.style.display = \"none\"\n\t\t\t},\n\t\t\tdrag() {\n\t\t\t\tresultDragging = true\n\t\t\t},\n\t\t\tdragEnd() {\n\t\t\t\tsetTimeout(() => resultDragging = false, 0)\n\t\t\t},\n\t\t\tready() {\n\t\t\t\tsetTimeout(() => elResultHeading.scrollIntoView({ behavior: \"smooth\" }), 100)\n\t\t\t\timgResult.style.pointerEvents = \"auto\"\n\t\t\t\timgResult.draggable = false\n\t\t\t}\n\t\t}\n\t})\n})\n\nasync function process(data) {\n\tlet result\n\tif (worker) {\n\t\tworker.postMessage(data)\n\t\tresult = await new Promise(resolve =>\n\t\t\tworker.addEventListener(\"message\", e => resolve(e.data.imageData), { once: true })\n\t\t)\n\t} else {\n\t\tresult = await globalThis.img2pixar(null, data)\n\t}\n\treturn result\n}\n\nimgResult.addEventListener(usesTouch ? \"touchend\" : \"click\", e => {\n\tconst thing = e.changedTouches?.item(0) ?? e\n\tif (resultDragging)\n\t\treturn\n\tconst clientX = thing.clientX\n\tconst clientY = thing.clientY\n\t// calculate coords of the hovered on paint pixel on the image (relative to zoom)\n\tconst imgRect = imgResult.getBoundingClientRect()\n\tconst x = clientX - imgRect.left\n\tconst y = clientY - imgRect.top\n\tconst displayRatio = Math.min(imgResult.width / displayWidth, imgResult.height / displayHeight)\n\tconst scaledPixelSize = displayPixelSize * resultZoomist.transform.scale * displayRatio\n\tconst paintX = Math.floor(x / scaledPixelSize)\n\tconst paintY = Math.floor(y / scaledPixelSize)\n\tif (paintX < 0 || paintY < 0)\n\t\treturn elResultSquare.style.display = \"none\"\n\n\t// calculate position for the square element\n\tconst contRect = elResultContainer.getBoundingClientRect()\n\tconst paintPixelLeft = (imgRect.left - contRect.left) + (paintX ?? 1) * scaledPixelSize\n\tconst paintPixelTop = (imgRect.top - contRect.top) + (paintY ?? 1) * scaledPixelSize\n\tconst inShipX = inShipCoordX + paintX\n\tconst inShipY = displayPaintHeight - (-inShipCoordY + 1 + paintY)\n\telResultSquare.style.display = \"\"\n\telResultSquare.style.width = elResultSquare.style.height = scaledPixelSize + \"px\"\n\telResultSquare.style.left = paintPixelLeft + \"px\"\n\telResultSquare.style.top = paintPixelTop + \"px\"\n\n\t// calculate position for the coords element\n\telResultSquareCoords.textContent = inShipX + \",\" + inShipY\n\tconst resultRect = elResultSquare.getBoundingClientRect()\n\tif (resultRect.bottom + 20 >= contRect.bottom) {\n\t\telResultSquareCoords.style.top = \"-20px\"\n\t\telResultSquareCoords.style.bottom = \"unset\"\n\t} else {\n\t\telResultSquareCoords.style.top = \"unset\"\n\t\telResultSquareCoords.style.bottom = \"-20px\"\n\t}\n\tif (resultRect.left - 30 <= contRect.left) {\n\t\telResultSquareCoords.style.left = \"0\"\n\t\telResultSquareCoords.style.right = \"unset\"\n\t\telResultSquareCoords.style.transform = \"unset\"\n\t} else if (resultRect.right + 30 >= contRect.right) {\n\t\telResultSquareCoords.style.left = \"unset\"\n\t\telResultSquareCoords.style.right = \"0\"\n\t\telResultSquareCoords.style.transform = \"unset\"\n\t} else {\n\t\telResultSquareCoords.style.left = \"50%\"\n\t\telResultSquareCoords.style.right = \"unset\"\n\t\telResultSquareCoords.style.transform = \"translateX(-50%)\"\n\t}\n})\n\nvoid async function () {\n\tlet html = \"\"\n\tif (navigator.keyboard) {\n\t\tawait navigator.keyboard.getLayoutMap().then(map => {\n\t\t\thtml += `(The debug key should be <b>${map.get(\"Slash\")}</b> for your locale)`\n\t\t})\n\t} else {\n\t\thtml += \"(The debug key is slash <b>/</b>, might be something else depending on your locale, like period <b>.</b>)\"\n\t}\n\tdocument.getElementById(\"debug-key-info\").insertAdjacentHTML(\"beforeend\", html)\n}()\n\ndocument.getElementById(\"button-reset-zoom\").addEventListener(\"click\", () => resultZoomist?.reset())\n\nbuttonShowResized.addEventListener(\"click\", () =>\n\twindow.open(URL.createObjectURL(resizedImageBlob), \"_blank\")\n)\n\nfor (const el of [inputWidth, inputHeight, inputFontSize, inputPixelSize, inputCoordX, inputCoordY])\n\tel.addEventListener(\"focus\", () => el.select())\n\nfunction toNearestTurretScale(n) {\n\tconst int = Math.trunc(n)\n\tconst dec = n - int\n\tif (dec == 0) return int\n\tif (dec <= 1 / 3) return int + 0.3\n\tif (dec <= 1 / 3 * 2) return int + 0.6\n\treturn int + 1\n}\n\nfunction calcAspectRatioFit(w, h, maxW, maxH) {\n\tconst ratio = Math.min(maxW / w, maxH / h)\n\treturn { width: w * ratio, height: h * ratio }\n}\n\nfunction notice(text = \"\") {\n\tclearTimeout(noticeTimeoutId)\n\telNotice.textContent = text\n\tif (text == \"\") return\n\tnoticeTimeoutId = setTimeout(() => elNotice.textContent = \"\", 8000)\n}\n", "export const usesTouch = matchMedia(\"(pointer: coarse)\").matches || !!navigator.maxTouchPoints\n\nconst elHeader = document.getElementsByTagName(\"header\")[0]\nconst elFooter = document.getElementsByTagName(\"footer\")[0]\n\nif (elHeader) await fetch(\"/assets/header.html\").then(res => res.text()).then(html => {\n\telHeader.insertAdjacentHTML(\"beforeend\", html)\n}).catch(console.error)\n\nif (elFooter) await fetch(\"/assets/footer.html\").then(res => res.text()).then(html => {\n\telFooter.insertAdjacentHTML(\"beforeend\", html)\n}).catch(console.error)\n\nexport function loadHF(credits, title = document.title) {\n\tconst dd = document.querySelector(\"header nav .dropdown\")\n\tdd.getElementsByClassName(\"text\")[0].innerHTML = location.pathname == \"/\" ? \"Tools\" : title\n\tdd.querySelectorAll(\".content>a\").forEach(el => {\n\t\tif (el.textContent == title) {\n\t\t\tel.classList.add(\"active\")\n\t\t\treturn\n\t\t}\n\t})\n\tif (credits)\n\t\tdocument.getElementById(\"credits\").innerHTML = title + \" \" + credits\n}\n\ndocument.querySelectorAll(\".custom-file-input\").forEach(el => {\n\tconst input = el.querySelector(\"input\")\n\tel.querySelector(\"button\").addEventListener(\"click\", () => input.click())\n})\n\n/* Dropdowns */\nconst openDropdowns = new Set()\n\nfunction toggleDropdown(el, force) {\n\tconst open = el.classList.toggle(\"open\", force)\n\tif (open) openDropdowns.add(el)\n\telse openDropdowns.delete(el)\n}\n\nwindow.addEventListener(usesTouch ? \"touchstart\" : \"mousedown\", e => {\n\tconst target = e.targetTouches ? e.changedTouches.item(0).target : e.target\n\tif (target.matches(\".dropdown\")) {\n\t\ttoggleDropdown(target)\n\t} else {\n\t\tif (target.tagName == \"A\") return // code below may block the link, especially if touch\n\t\tfor (const el of openDropdowns)\n\t\t\tel.classList.remove(\"open\")\n\t}\n})\n\nwindow.addEventListener(\"focusin\", e => {\n\tif (e.target.matches(\".dropdown:not(.open)\"))\n\t\treturn toggleDropdown(e.target)\n\topenDropdowns.forEach(el => !el.contains(e.target) && toggleDropdown(el, false))\n})\n\n/* Tooltips */\nexport function addTooltip(ref) {\n\tconst clickTriggered = \"clickTriggered\" in ref.dataset\n\tref.addEventListener(usesTouch ? \"touchend\" : (clickTriggered ? \"click\" : \"mouseenter\"), tooltipInteractionHandler, true)\n}\n\ndocument.querySelectorAll(\".tooltip-ref\").forEach(addTooltip)\n\nlet ttpCloseHandler\nfunction tooltipInteractionHandler() {\n\tconst ref = this\n\tlet space\n\tconst clickTriggered = \"clickTriggered\" in ref.dataset\n\tconst allowHover = \"allowHover\" in ref.dataset\n\tconst showAbove = \"showAbove\" in ref.dataset\n\tif (allowHover) {\n\t\tspace = ref.getElementsByClassName(\"tooltip-space\")[0]\n\t\tif (space) space.style.display = \"block\"\n\t}\n\tconst content = ref.nextElementSibling\n\tif ((usesTouch || clickTriggered) && content.style.display == \"block\")\n\t\treturn closeTooltip(content, space)\n\tif (content.style.display == \"block\")\n\t\treturn\n\tcontent.style.display = \"block\"\n\n\tconst refRect = ref.getBoundingClientRect()\n\tconst contRect = content.getBoundingClientRect()\n\tlet x = refRect.left + (refRect.width / 2) - (contRect.width / 2)\n\tlet y = refRect.top + (showAbove ? -contRect.height - 5 : refRect.height + 5)\n\n\tif (x <= 0) x = 1\n\telse if (x + contRect.width > window.innerWidth) x = window.innerWidth - contRect.width - 4\n\tif (y >= window.innerHeight) y = window.innerHeight\n\telse if (y + contRect.height >= window.innerHeight) y = window.innerHeight - contRect.height\n\tcontent.style.left = x + \"px\"\n\tcontent.style.top = y + \"px\"\n\n\twindow.addEventListener(\"scroll\", () => {\n\t\tcloseTooltip(content, space)\n\t}, { once: true })\n\n\tif (usesTouch) {\n\t\tttpCloseHandler = e => {\n\t\t\tif (!ref.contains(e.target) && !content.contains(e.target)) {\n\t\t\t\tcloseTooltip(content, space)\n\t\t\t\twindow.removeEventListener(\"touchend\", ttpCloseHandler)\n\t\t\t}\n\t\t}\n\t\twindow.addEventListener(\"touchend\", ttpCloseHandler)\n\t} else {\n\t\tttpCloseHandler = e => {\n\t\t\tif (ref.contains(e.relatedTarget))\n\t\t\t\treturn ref.addEventListener(\"mouseleave\", ttpCloseHandler, { once: true })\n\t\t\tif (e.relatedTarget == space)\n\t\t\t\treturn space.addEventListener(\"mouseleave\", ttpCloseHandler, { once: true })\n\t\t\tif (!allowHover || (allowHover && !content.contains(e.relatedTarget))) {\n\t\t\t\tif (elementContainsSelection(content)) { // keep open if user selected text in content\n\t\t\t\t\tcontent.addEventListener(\"mouseleave\", ttpCloseHandler, { once: true })\n\t\t\t\t\twindow.addEventListener(\"click\", e => {\n\t\t\t\t\t\tif (!content.contains(e.target))\n\t\t\t\t\t\t\tcloseTooltip(content, space)\n\t\t\t\t\t}, { once: true })\n\t\t\t\t} else\n\t\t\t\t\tcloseTooltip(content, space)\n\t\t\t} else {\n\t\t\t\tcontent.addEventListener(\"mouseleave\", ttpCloseHandler, { once: true })\n\t\t\t}\n\t\t}\n\t\tref.addEventListener(\"mouseleave\", ttpCloseHandler, { once: true })\n\t}\n\n\tfunction closeTooltip(content, space) {\n\t\tif (usesTouch)\n\t\t\twindow.removeEventListener(\"touchend\", ttpCloseHandler)\n\t\telse\n\t\t\tref.removeEventListener(\"mouseleave\", ttpCloseHandler)\n\t\tcontent.style.display = \"\"\n\t\tif (space) space.style.display = \"\"\n\t}\n}\n\nfunction elementContainsSelection(el) {\n\tconst sel = window.getSelection()\n\tif (sel.type != \"Range\" || sel.rangeCount < 1)\n\t\treturn false\n\tfor (let i = 0; i < sel.rangeCount; ++i) {\n\t\tif (!el.contains(sel.getRangeAt(i).commonAncestorContainer))\n\t\t\treturn false\n\t}\n\treturn true\n}\n\n/* Chips :has fallback for Firefox - synces radio :checked to its label */\nif (!CSS.supports(\"selector(:has(*))\")) {\n\tdocument.querySelectorAll(\".radio-chips\").forEach(chips => {\n\t\tchips.querySelectorAll(\"input\").forEach(radio => {\n\t\t\tif (radio.checked)\n\t\t\t\tradio.parentElement.setAttribute(\"checked\", \"\")\n\t\t\tradio.addEventListener(\"change\", () =>\n\t\t\t\tchips.querySelectorAll(\"label\").forEach(label =>\n\t\t\t\t\tlabel.toggleAttribute(\"data-chk\", label == radio.parentElement) // radio here is the checked one\n\t\t\t\t)\n\t\t\t)\n\t\t\tradio.addEventListener(\"focus\", () =>\n\t\t\t\tradio.parentElement.dataset.fcs = \"\"\n\t\t\t)\n\t\t\tradio.addEventListener(\"blur\", () =>\n\t\t\t\tdelete radio.parentElement.dataset.fcs\n\t\t\t)\n\t\t})\n\t})\n}\n\n/* Link range-number inputs */\ndocument.querySelectorAll(\"[range-link-number]\").forEach(rangeInput => {\n\tconst numberInput = rangeInput.nextElementSibling\n\tif (numberInput.value == \"\")\n\t\tnumberInput.value = rangeInput.value\n\trangeInput.addEventListener(\"input\", () => {\n\t\tnumberInput.value = rangeInput.value\n\t\tnumberInput.dispatchEvent(new Event(\"change\"))\n\t})\n\tnumberInput.addEventListener(\"change\", () =>\n\t\trangeInput.value = numberInput.value\n\t)\n})\n"],
  "mappings": "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",
  "names": ["autoInputSave_exports", "main", "data", "strgKey", "path", "el", "getPath", "selectors", "init_autoInputSave", "__esmMin", "Pica", "Zoomist", "usesTouch", "elHeader", "elFooter", "res", "html", "loadHF", "credits", "title", "dd", "el", "input", "openDropdowns", "toggleDropdown", "force", "target", "addTooltip", "ref", "clickTriggered", "tooltipInteractionHandler", "ttpCloseHandler", "space", "allowHover", "showAbove", "content", "closeTooltip", "refRect", "contRect", "x", "y", "e", "elementContainsSelection", "sel", "i", "chips", "radio", "label", "rangeInput", "numberInput", "credits", "loadHF", "pica", "Pica", "worker", "container", "inputFile", "inputWidth", "inputHeight", "cbUseTurretScale", "cbDrawPaintId", "cbDrawPaintTexture", "cbNoSmoothResizing", "inputCoordX", "inputCoordY", "inputPixelSize", "inputFontSize", "selectColorSpace", "buttonProcess", "buttonShowResized", "imgFilePreview", "elFilePreviewName", "elFilePreviewSize", "elResultContainer", "imgResult", "elNotice", "elResultInfo", "elResultHeading", "elResultSquare", "elResultSquareCoords", "canvas", "canvasCtx", "noticeTimeoutId", "resultZoomist", "resultDragging", "resizedImageBlob", "hasSetWidth", "hasSetHeight", "hasChosenImage", "displayPixelSize", "displayWidth", "displayHeight", "displayPaintHeight", "inShipCoordX", "inShipCoordY", "resizeCache", "image", "file", "dt", "loadBaseImage", "src", "fileName", "resolve", "autoFillDims", "turretScale", "fit", "calcAspectRatioFit", "toNearestTurretScale", "notice", "width", "height", "pixelSize", "fontSize", "start", "cacheKey", "cachedBlob", "blob", "imageData", "process", "Zoomist", "data", "result", "e", "usesTouch", "thing", "clientX", "clientY", "imgRect", "x", "y", "displayRatio", "scaledPixelSize", "paintX", "paintY", "contRect", "paintPixelLeft", "paintPixelTop", "inShipX", "inShipY", "resultRect", "html", "map", "el", "n", "int", "dec", "w", "h", "maxW", "maxH", "ratio", "text"]
}
