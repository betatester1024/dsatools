var o="dsatools-v3",n=["/",..."items/ bpbin/ main.css main.js app.webmanifest lib/pica.js lib/zoomist.js lib/zoomist/css.css lib/dsabp-js.js https://x.dsatools.workers.dev?https://pub.drednot.io/test/econ/item_schema.json".split(" ")];for(let s of"sw-reg.js goatc.js icomoon.woff header.html footer.html icons/64.webp icons/80m.webp icons/96.webp icons/144.webp icons/512.png autoInputSave.js".split(" "))n.push("assets/"+s);for(let s of" main.css main.js converter.js worker.js assets/bg_ship.png assets/color-palettes.json".split(" "))n.push("img2pixar/"+s);for(let s of" main.css main.js operations.js".split(" "))n.push("bpeditor/"+s);var c=new RegExp(`/item_schema\\.json$|^https://(test\\.)?drednot\\.io/|^${location.origin}/($|bpbin/\\w*|main\\.css)`),a=/\/bpbin\/\w+|\/\/res.cloudinary.com\//;self.addEventListener("install",s=>{s.waitUntil(caches.open(o).then(i=>Promise.all(n.map(e=>i.add(e).catch(t=>console.error(t.message,e)))))),self.skipWaiting()});self.addEventListener("fetch",s=>{s.request.method!="GET"||!s.request.url.startsWith("http")||s.respondWith((async()=>{let i=await caches.open(o),e=c.test(s.request.url);if(!e){let t=await i.match(s.request.url,{ignoreSearch:!0});if(t)return t}return fetch(s.request).then(t=>(a.test(s.request.url)||i.put(s.request.url.split("?")[0],t.clone()),t)).catch(async()=>{if(e){let t=await i.match(s.request.url,{ignoreSearch:!0});if(t)return t}return Response.error()})})())});self.addEventListener("activate",s=>{s.waitUntil(caches.keys().then(i=>Promise.all(i.reduce((e,t)=>(t!=o&&e.push(caches.delete(t)),e),[self.clients.claim()]))))});
//# sourceMappingURL=sw.js.map
