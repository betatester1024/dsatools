import A from"/lib/zoomist.js";var g=matchMedia("(pointer: coarse)").matches||!!navigator.maxTouchPoints,v=document.getElementsByTagName("header")[0],y=document.getElementsByTagName("footer")[0];v&&await fetch("/assets/header.html").then(e=>e.text()).then(e=>{v.insertAdjacentHTML("beforeend",e)}).catch(console.error);y&&await fetch("/assets/footer.html").then(e=>e.text()).then(e=>{y.insertAdjacentHTML("beforeend",e)}).catch(console.error);function E(e,t=document.title){let o=document.querySelector("header nav .dropdown");o.getElementsByClassName("text")[0].innerHTML=location.pathname=="/"?"Tools":t,o.querySelectorAll(".content>a").forEach(a=>{if(a.textContent==t){a.classList.add("active");return}}),e&&(document.getElementById("credits").innerHTML=t+" "+e)}document.querySelectorAll(".custom-file-input").forEach(e=>{let t=e.querySelector("input");e.querySelector("button").addEventListener("click",()=>t.click())});var p=new Set;function w(e,t){e.classList.toggle("open",t)?p.add(e):p.delete(e)}window.addEventListener(g?"touchstart":"mousedown",e=>{let t=e.targetTouches?e.changedTouches.item(0).target:e.target;if(t.matches(".dropdown"))w(t);else{if(t.tagName=="A")return;for(let o of p)o.classList.remove("open")}});window.addEventListener("focusin",e=>{if(e.target.matches(".dropdown:not(.open)"))return w(e.target);p.forEach(t=>!t.contains(e.target)&&w(t,!1))});function x(e){let t="clickTriggered"in e.dataset;e.addEventListener(g?"touchend":t?"click":"mouseenter",k,!0)}document.querySelectorAll(".tooltip-ref").forEach(x);var i;function k(){let e=this,t,o="clickTriggered"in e.dataset,a="allowHover"in e.dataset,S="showAbove"in e.dataset;a&&(t=e.getElementsByClassName("tooltip-space")[0],t&&(t.style.display="block"));let n=e.nextElementSibling;if((g||o)&&n.style.display=="block")return m(n,t);if(n.style.display=="block")return;n.style.display="block";let h=e.getBoundingClientRect(),c=n.getBoundingClientRect(),d=h.left+h.width/2-c.width/2,u=h.top+(S?-c.height-5:h.height+5);d<=0?d=1:d+c.width>window.innerWidth&&(d=window.innerWidth-c.width-4),u>=window.innerHeight?u=window.innerHeight:u+c.height>=window.innerHeight&&(u=window.innerHeight-c.height),n.style.left=d+"px",n.style.top=u+"px",window.addEventListener("scroll",()=>{m(n,t)},{once:!0}),g?(i=r=>{!e.contains(r.target)&&!n.contains(r.target)&&(m(n,t),window.removeEventListener("touchend",i))},window.addEventListener("touchend",i)):(i=r=>{if(e.contains(r.relatedTarget))return e.addEventListener("mouseleave",i,{once:!0});if(r.relatedTarget==t)return t.addEventListener("mouseleave",i,{once:!0});!a||a&&!n.contains(r.relatedTarget)?C(n)?(n.addEventListener("mouseleave",i,{once:!0}),window.addEventListener("click",f=>{n.contains(f.target)||m(n,t)},{once:!0})):m(n,t):n.addEventListener("mouseleave",i,{once:!0})},e.addEventListener("mouseleave",i,{once:!0}));function m(r,f){g?window.removeEventListener("touchend",i):e.removeEventListener("mouseleave",i),r.style.display="",f&&(f.style.display="")}}function C(e){let t=window.getSelection();if(t.type!="Range"||t.rangeCount<1)return!1;for(let o=0;o<t.rangeCount;++o)if(!e.contains(t.getRangeAt(o).commonAncestorContainer))return!1;return!0}CSS.supports("selector(:has(*))")||document.querySelectorAll(".radio-chips").forEach(e=>{e.querySelectorAll("input").forEach(t=>{t.checked&&t.parentElement.setAttribute("checked",""),t.addEventListener("change",()=>e.querySelectorAll("label").forEach(o=>o.toggleAttribute("data-chk",o==t.parentElement))),t.addEventListener("focus",()=>t.parentElement.dataset.fcs=""),t.addEventListener("blur",()=>delete t.parentElement.dataset.fcs)})});document.querySelectorAll("[range-link-number]").forEach(e=>{let t=e.nextElementSibling;t.value==""&&(t.value=e.value),e.addEventListener("input",()=>{t.value=e.value,t.dispatchEvent(new Event("change"))}),t.addEventListener("change",()=>e.value=t.value)});var B="by <a href='https://github.com/Blueyescat' target='_blank'>Blueyescat</a>.";E(B);var H=document.getElementById("bp"),s=document.getElementById("button-copy"),l=document.getElementById("preview-image"),L=document.getElementById("post-date");L.textContent=new Date(parseInt(L.dataset.unix)).toLocaleString();var b;s.addEventListener("click",()=>{navigator.clipboard.writeText(H.textContent).then(()=>{let e=s.getBoundingClientRect().width;s.textContent="Copied!",s.style.width=e+"px",clearTimeout(b),b=setTimeout(()=>{s.textContent="Copy String",s.style.width=""},1e3)}).catch(console.error)});l.complete?T():l.addEventListener("load",T);function T(){if(!l.naturalWidth)return;let e=new A(".zoomist-container",{bounds:!1,initScale:1,minScale:.5,maxScale:16,on:{ready(){l.style.pointerEvents="auto",l.style.opacity="1",l.draggable=!1}}});document.getElementById("button-reset-zoom").addEventListener("click",()=>e?.reset())}
//# sourceMappingURL=main.js.map
